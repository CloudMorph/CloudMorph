@{
    ViewBag.Title = "Hosts";
}

@section Scripts
{
<script src="~/Scripts/ViewModels/hosts.js" type="text/javascript"></script>
}

<div id="hostsPage" style="display: none">
<h2>Hosts</h2>

<table class="table table-striped table-bordered table-condensed">
    <thead>
        <tr>
            <th>Guid</th>
            <th>Name</th>
            <th>IP</th>
        </tr>
    </thead>
    <tbody data-bind="foreach: hosts">
        <tr>
            <td><a data-bind='attr: { href: "#/hosts/" + Guid } '><span data-bind="text: Guid" /></a></td>
            <td data-bind="text: Name"></td>            
            <td data-bind="text: IP"></td>            
        </tr>
    </tbody>
</table>

<div id="some-model">
  <p>display some data from the model, here</p>
  <a class="delete" href="#/delete/1">delete</a>
</div>

</div>
<!-- koko if: selectedHost() -->
<!-- div id="singleHostPage" style="display: none" data-bind="template: { name: 'host-template', data: selectedHost() }"></div -->
<!-- /koko -->

<script type="text/template" id="tpl_job_item_row">
    <td><%= name %></td>
    <td><%= guid %></td>
    <td><%= size %></td>
</script>

<script type="text/template" id="tpl_host_item">
    <ul class="breadcrumb">
      <li>
        <a href="/hosts">Hosts</a> <span class="divider">/</span>
      </li>
      <li class="active">Host: <%= name %></li>
    </ul>
    <div>
        <legend>Host description</legend>
        <table class="table table-condensed span5">
            <tr>
                <td>Name:</td>
                <td><%= name %></td>
            </tr>
            <tr>
                <td>Guid:</td>
                <td><%= guid %></td>
            </tr>
            <tr>
                <td>IP:</td>
                <td><%= ip %></td>
            </tr>
        </table>
    </div>
    <div>
        <legend>Running jobs:</legend>
        <table id="runningJobs" class="table table-striped table-bordered table-condensed"></table>
    </div>
</script>

<div id="singleHostPage" style="display: none">
</div>

<div id="singleHostPage1213" style="display: none" data-bind="with: selectedHost()">
    <h3 data-bind='text: "Host: " + Name'></h3>

    <table class="table table-striped table-bordered table-condensed" data-bind="if: 'packages' in $data">
        <thead>
            <tr>
                <th>Guid</th>
                <th>Name</th>
                <th>Size</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: $data.packages()">
            <tr>
                <td data-bind="text: Guid"></td>
                <td data-bind="text: Name"></td>            
                <td data-bind="text: Size"></td>            
            </tr>
        </tbody>
    </table>

    <div id="reloadPackages">
        <button class="btn">Reload</button>
    </div>
</div>
